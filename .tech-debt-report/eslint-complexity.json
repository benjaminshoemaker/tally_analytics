[{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/events/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/events/app/v1/track/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/events/lib/project-cache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/events/lib/tinybird.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async method 'appendEvents' has a complexity of 11. Maximum allowed is 10.","line":65,"column":23,"nodeType":"FunctionExpression","messageId":"complex","endLine":104,"endColumn":6}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"type RetryConfig = {\n  maxAttempts: number;\n  baseDelayMs: number;\n};\n\nexport type TinybirdClientConfig = {\n  apiUrl: string;\n  token: string;\n  datasource: string;\n  fetch?: typeof fetch;\n  retry?: RetryConfig;\n  wait?: boolean;\n};\n\nexport type TinybirdClient = {\n  appendEvents: (events: unknown[]) => Promise<void>;\n};\n\nfunction readRequiredEnv(name: string): string {\n  const value = process.env[name];\n  if (typeof value === \"string\" && value.length > 0) return value;\n  throw new Error(`Missing required environment variable: ${name}`);\n}\n\nfunction buildEventsUrl(apiUrl: string, datasource: string, wait: boolean): string {\n  const url = new URL(\"/v0/events\", apiUrl);\n  url.searchParams.set(\"name\", datasource);\n  url.searchParams.set(\"wait\", wait ? \"true\" : \"false\");\n  return url.toString();\n}\n\nfunction toNdjson(events: unknown[]): string {\n  return `${events.map((e) => JSON.stringify(e)).join(\"\\n\")}\\n`;\n}\n\nfunction isRetriableStatus(status: number): boolean {\n  return status === 408 || status === 429 || status >= 500;\n}\n\nasync function sleep(ms: number): Promise<void> {\n  if (ms <= 0) return;\n  await new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport function createTinybirdClientFromEnv(): TinybirdClient {\n  return createTinybirdClient({\n    apiUrl: readRequiredEnv(\"TINYBIRD_API_URL\"),\n    token: readRequiredEnv(\"TINYBIRD_EVENTS_TOKEN\"),\n    datasource: \"events\",\n  });\n}\n\nexport function createTinybirdClient(config: TinybirdClientConfig): TinybirdClient {\n  const fetchImpl = config.fetch ?? fetch;\n  const retry: RetryConfig = config.retry ?? { maxAttempts: 3, baseDelayMs: 200 };\n  const wait = config.wait ?? true;\n\n  if (!config.apiUrl) throw new Error(\"Missing Tinybird apiUrl\");\n  if (!config.token) throw new Error(\"Missing Tinybird token\");\n  if (!config.datasource) throw new Error(\"Missing Tinybird datasource\");\n\n  const url = buildEventsUrl(config.apiUrl, config.datasource, wait);\n\n  return {\n    async appendEvents(events: unknown[]) {\n      if (!Array.isArray(events) || events.length === 0) return;\n\n      const body = toNdjson(events);\n      let lastError: unknown;\n\n      for (let attempt = 0; attempt < retry.maxAttempts; attempt++) {\n        try {\n          const response = await fetchImpl(url, {\n            method: \"POST\",\n            headers: {\n              Authorization: `Bearer ${config.token}`,\n              \"Content-Type\": \"application/x-ndjson\",\n            },\n            body,\n          });\n\n          if (response.ok) return;\n\n          const responseText = await response.text().catch(() => \"\");\n          const error = new Error(\n            `Tinybird ingestion failed (status=${response.status}): ${responseText || response.statusText}`,\n          );\n\n          if (!isRetriableStatus(response.status) || attempt === retry.maxAttempts - 1) {\n            throw error;\n          }\n\n          lastError = error;\n        } catch (error) {\n          if (attempt === retry.maxAttempts - 1) throw error;\n          lastError = error;\n        }\n\n        const delay = retry.baseDelayMs * Math.pow(2, attempt);\n        await sleep(delay);\n      }\n\n      throw lastError instanceof Error ? lastError : new Error(\"Tinybird ingestion failed\");\n    },\n  };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/events/next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/events/next.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/projects/[id]/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/projects/[id]/live/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/projects/[id]/overview/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/projects/[id]/page.tsx","messages":[{"ruleId":"complexity","severity":2,"message":"Function 'ProjectDetailPage' has a complexity of 23. Maximum allowed is 10.","line":104,"column":16,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":289,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\n\nimport OnboardingChecklist from \"../../../../components/dashboard/onboarding-checklist\";\nimport QuotaDisplay from \"../../../../components/dashboard/quota-display\";\nimport Skeleton, { SkeletonList } from \"../../../../components/dashboard/skeleton\";\nimport StatusBadge from \"../../../../components/dashboard/status-badge\";\nimport { useProject } from \"../../../../lib/hooks/use-project\";\nimport type { UserPlan } from \"../../../../lib/stripe/plans\";\n\ntype RegenerateState = {\n  status: \"idle\" | \"loading\" | \"success\" | \"error\";\n  message: string;\n  retryAfter?: number;\n};\n\nfunction canRegenerate(status: string): boolean {\n  return status === \"analysis_failed\" || status === \"pr_closed\" || status === \"unsupported\";\n}\n\nfunction shouldShowQuota(status: string): boolean {\n  return status === \"pr_pending\" || status === \"active\";\n}\n\ntype StatusCardConfig = {\n  title: string;\n  description: string;\n  bgClass: string;\n  borderClass: string;\n  iconClass: string;\n};\n\nconst STATUS_CARD_CONFIG: Record<string, StatusCardConfig> = {\n  unsupported: {\n    title: \"Repository Not Supported\",\n    description:\n      \"This repository may use an unsupported framework or structure. Click 'Re-run Analysis' to try again after making changes to your repository.\",\n    bgClass: \"bg-amber-50\",\n    borderClass: \"border-amber-200\",\n    iconClass: \"text-amber-500\",\n  },\n  analysis_failed: {\n    title: \"Analysis Failed\",\n    description:\n      \"Something went wrong during analysis. This could be a temporary issue. Click 'Re-run Analysis' to try again.\",\n    bgClass: \"bg-red-50\",\n    borderClass: \"border-red-200\",\n    iconClass: \"text-red-500\",\n  },\n  pr_closed: {\n    title: \"Pull Request Closed\",\n    description:\n      \"The analytics PR was closed without merging. Click 'Re-run Analysis' to generate a new PR.\",\n    bgClass: \"bg-slate-50\",\n    borderClass: \"border-slate-200\",\n    iconClass: \"text-slate-400\",\n  },\n};\n\nfunction StatusCard({ status }: { status: string }) {\n  const config = STATUS_CARD_CONFIG[status];\n  if (!config) return null;\n\n  return (\n    <div className={`rounded-lg border ${config.borderClass} ${config.bgClass} p-4`}>\n      <div className=\"flex items-start gap-3\">\n        <div className={`mt-0.5 ${config.iconClass}`}>\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n            <path\n              d=\"M10 6v4m0 4h.01M19 10a9 9 0 11-18 0 9 9 0 0118 0z\"\n              stroke=\"currentColor\"\n              strokeWidth=\"1.5\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n        </div>\n        <div>\n          <h3 className=\"text-sm font-semibold text-warm-900\">{config.title}</h3>\n          <p className=\"mt-1 text-sm text-warm-600\">{config.description}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ExternalLinkIcon() {\n  return (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" fill=\"none\" className=\"inline-block\">\n      <path\n        d=\"M12 8.667V12.667C12 13.0203 11.8595 13.3594 11.6095 13.6095C11.3594 13.8595 11.0203 14 10.667 14H3.333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.667V5.333C2 4.97971 2.14048 4.64057 2.39052 4.39052C2.64057 4.14048 2.97971 4 3.333 4H7.333\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path d=\"M10 2H14V6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path d=\"M6.667 9.333L14 2\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n    </svg>\n  );\n}\n\nexport default function ProjectDetailPage({ params }: { params: { id: string } }) {\n  const projectId = params.id;\n  const projectQuery = useProject(projectId);\n\n  const [regenerateState, setRegenerateState] = useState<RegenerateState>({ status: \"idle\", message: \"\" });\n  const [optimisticStatus, setOptimisticStatus] = useState<string | null>(null);\n  const [retryCountdown, setRetryCountdown] = useState<number>(0);\n\n  const project = useMemo(() => {\n    const data = projectQuery.data as null | { project?: unknown };\n    return (data?.project as null | Record<string, unknown>) ?? null;\n  }, [projectQuery.data]);\n\n  const userPlan: UserPlan = useMemo(() => {\n    const plan = (projectQuery.data as null | Record<string, unknown>)?.userPlan;\n    return plan === \"free\" || plan === \"pro\" || plan === \"team\" ? plan : \"pro\";\n  }, [projectQuery.data]);\n\n  // Auto-dismiss success message after 5 seconds\n  useEffect(() => {\n    if (regenerateState.status === \"success\") {\n      const timer = setTimeout(() => {\n        setRegenerateState({ status: \"idle\", message: \"\" });\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [regenerateState.status]);\n\n  // Rate limit countdown timer\n  useEffect(() => {\n    if (retryCountdown > 0) {\n      const timer = setTimeout(() => {\n        setRetryCountdown((prev) => prev - 1);\n      }, 1000);\n      return () => clearTimeout(timer);\n    } else if (retryCountdown === 0 && regenerateState.status === \"error\" && regenerateState.retryAfter) {\n      setRegenerateState({ status: \"idle\", message: \"\" });\n    }\n  }, [retryCountdown, regenerateState.status, regenerateState.retryAfter]);\n\n  // Clear optimistic status when real status updates to analyzing\n  useEffect(() => {\n    const realStatus = String(project?.status ?? \"\");\n    if (realStatus === \"analyzing\" && optimisticStatus === \"analyzing\") {\n      setOptimisticStatus(null);\n    }\n  }, [project?.status, optimisticStatus]);\n\n  async function onRegenerate() {\n    setRegenerateState({ status: \"loading\", message: \"\" });\n    setOptimisticStatus(\"analyzing\");\n\n    try {\n      const response = await fetch(`/api/projects/${encodeURIComponent(projectId)}/regenerate`, { method: \"POST\" });\n      const body = (await response.json().catch(() => null)) as null | { success?: boolean; message?: string };\n\n      if (!response.ok || !body?.success) {\n        setOptimisticStatus(null);\n\n        if (response.status === 429) {\n          const retrySeconds = 300; // 5 minutes\n          setRetryCountdown(retrySeconds);\n          setRegenerateState({\n            status: \"error\",\n            message: `Rate limited. Try again in ${Math.ceil(retrySeconds / 60)} minutes.`,\n            retryAfter: retrySeconds,\n          });\n        } else {\n          setRegenerateState({ status: \"error\", message: body?.message ?? \"Unable to regenerate.\" });\n        }\n        return;\n      }\n\n      setRegenerateState({\n        status: \"success\",\n        message: \"Analysis started — this page will update automatically.\",\n      });\n      await projectQuery.refetch();\n    } catch {\n      setOptimisticStatus(null);\n      setRegenerateState({ status: \"error\", message: \"Unable to regenerate.\" });\n    }\n  }\n\n  if (projectQuery.isPending) {\n    return (\n      <div className=\"flex flex-col gap-6\">\n        <div className=\"rounded-lg border border-slate-200 bg-white p-4 shadow-sm\">\n          <Skeleton className=\"h-4 w-20\" />\n          <div className=\"mt-3 flex items-center justify-between gap-4\">\n            <Skeleton className=\"h-4 w-24\" />\n            <Skeleton className=\"h-4 w-16\" />\n          </div>\n          <Skeleton className=\"mt-3 h-2 w-full\" />\n        </div>\n        <SkeletonList />\n      </div>\n    );\n  }\n\n  if (projectQuery.isError) {\n    return (\n      <div className=\"rounded-lg border border-red-200 bg-red-50 p-4\">\n        <p className=\"text-sm text-red-700\">Unable to load project. Please try again.</p>\n      </div>\n    );\n  }\n\n  const realStatus = String(project?.status ?? \"\");\n  const displayStatus = optimisticStatus ?? realStatus;\n  const prUrl = typeof project?.prUrl === \"string\" ? (project.prUrl as string) : null;\n  const lastEventAt = typeof project?.lastEventAt === \"string\" ? (project.lastEventAt as string) : null;\n  const quotaLimit = Number((projectQuery.data as Record<string, unknown>)?.quotaLimit ?? 0);\n  const quotaUsed = Number((projectQuery.data as Record<string, unknown>)?.quotaUsed ?? 0);\n  const isOverQuota = Boolean((projectQuery.data as Record<string, unknown>)?.isOverQuota);\n\n  const showRerunButton = canRegenerate(realStatus) && !optimisticStatus;\n  const isRateLimited = retryCountdown > 0;\n\n  return (\n    <div className=\"flex flex-col gap-6\">\n      {/* Status Badge with optimistic update */}\n      {optimisticStatus && (\n        <div className=\"flex items-center gap-2\">\n          <StatusBadge status={displayStatus} />\n          <span className=\"text-sm text-warm-500\">Updating...</span>\n        </div>\n      )}\n\n      {/* Status-specific empty state card */}\n      {!optimisticStatus && canRegenerate(realStatus) && <StatusCard status={realStatus} />}\n\n      {/* Quick Actions */}\n      <div className=\"flex flex-wrap items-center gap-3\">\n        {prUrl && (\n          <a\n            href={prUrl}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"inline-flex items-center gap-1.5 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition-colors hover:bg-slate-50\"\n          >\n            View PR <ExternalLinkIcon />\n          </a>\n        )}\n\n        {showRerunButton && (\n          <button\n            type=\"button\"\n            onClick={onRegenerate}\n            disabled={regenerateState.status === \"loading\" || isRateLimited}\n            className=\"inline-flex items-center gap-1.5 rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-slate-800 disabled:opacity-50\"\n          >\n            {regenerateState.status === \"loading\" ? \"Re-running…\" : \"Re-run Analysis\"}\n          </button>\n        )}\n      </div>\n\n      {/* Feedback messages */}\n      {regenerateState.message && (\n        <div\n          className={[\n            \"rounded-md border px-3 py-2 text-sm flex items-center justify-between\",\n            regenerateState.status === \"error\"\n              ? \"border-red-200 bg-red-50 text-red-700\"\n              : \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n          ].join(\" \")}\n        >\n          <span>{regenerateState.message}</span>\n          {isRateLimited && (\n            <span className=\"ml-2 font-mono text-xs\">\n              {Math.floor(retryCountdown / 60)}:{String(retryCountdown % 60).padStart(2, \"0\")}\n            </span>\n          )}\n        </div>\n      )}\n\n      {/* QuotaDisplay only for relevant states */}\n      {shouldShowQuota(displayStatus) && (\n        <QuotaDisplay used={quotaUsed} limit={quotaLimit} isOverQuota={isOverQuota} userPlan={userPlan} />\n      )}\n\n      {/* OnboardingChecklist only when PR exists and not active */}\n      {displayStatus !== \"active\" && prUrl && <OnboardingChecklist project={{ status: displayStatus, prUrl, lastEventAt }} />}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/projects/[id]/sessions/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/projects/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/settings/page.tsx","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'SettingsPage' has a complexity of 11. Maximum allowed is 10.","line":10,"column":16,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":121,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { and, eq, gt } from \"drizzle-orm\";\nimport { cookies } from \"next/headers\";\nimport React from \"react\";\n\nimport { SESSION_COOKIE_NAME } from \"../../../lib/auth/cookies\";\nimport { db } from \"../../../lib/db/client\";\nimport { sessions, users } from \"../../../lib/db/schema\";\nimport { StripeReconcileClient } from \"./stripe-reconcile-client\";\n\nexport default async function SettingsPage() {\n  const sessionId = cookies().get(SESSION_COOKIE_NAME)?.value ?? null;\n  if (!sessionId) {\n    return <p className=\"text-sm text-warm-700\">Unauthorized.</p>;\n  }\n\n  const now = new Date();\n  const sessionRows = await db\n    .select({ userId: sessions.userId })\n    .from(sessions)\n    .where(and(eq(sessions.id, sessionId), gt(sessions.expiresAt, now)));\n\n  const userId = sessionRows[0]?.userId ?? null;\n  if (!userId) {\n    return <p className=\"text-sm text-warm-700\">Unauthorized.</p>;\n  }\n\n  const userRows = await db\n    .select({\n      email: users.email,\n      plan: users.plan,\n      stripeSubscriptionStatus: users.stripeSubscriptionStatus,\n      stripeCancelAtPeriodEnd: users.stripeCancelAtPeriodEnd,\n      stripeCurrentPeriodEnd: users.stripeCurrentPeriodEnd,\n    })\n    .from(users)\n    .where(eq(users.id, userId));\n  const user = userRows[0];\n  if (!user) return <p className=\"text-sm text-warm-700\">Unauthorized.</p>;\n\n  return (\n    <div className=\"flex w-full flex-col gap-6\">\n      <header className=\"flex flex-col gap-2 opacity-0 animate-fade-in\">\n        <h1 className=\"font-display text-2xl font-semibold tracking-tight text-warm-900\">Account settings</h1>\n        <p className=\"text-sm text-warm-500\">Manage your account.</p>\n      </header>\n\n      <section className=\"rounded-lg border border-warm-200 bg-white p-4 shadow-warm opacity-0 animate-fade-in stagger-1\">\n        <StripeReconcileClient />\n        <dl className=\"grid gap-3 text-sm\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <dt className=\"text-warm-500\">Email</dt>\n            <dd className=\"font-medium text-warm-900\">{user.email}</dd>\n          </div>\n          <div className=\"flex items-center justify-between gap-4\">\n            <dt className=\"text-warm-500\">Plan</dt>\n            <dd className=\"font-medium text-warm-900\">{user.plan.charAt(0).toUpperCase() + user.plan.slice(1)}</dd>\n          </div>\n          {user.stripeSubscriptionStatus ? (\n            <div className=\"flex items-center justify-between gap-4\">\n              <dt className=\"text-warm-500\">Billing status</dt>\n              <dd className=\"font-medium text-warm-900\">\n                {user.stripeSubscriptionStatus.charAt(0).toUpperCase() + user.stripeSubscriptionStatus.slice(1)}\n              </dd>\n            </div>\n          ) : null}\n          {user.stripeCurrentPeriodEnd ? (\n            <div className=\"flex items-center justify-between gap-4\">\n              <dt className=\"text-warm-500\">Current period end</dt>\n              <dd className=\"font-medium text-warm-900\">{user.stripeCurrentPeriodEnd.toISOString().slice(0, 10)}</dd>\n            </div>\n          ) : null}\n          {typeof user.stripeCancelAtPeriodEnd === \"boolean\" ? (\n            <div className=\"flex items-center justify-between gap-4\">\n              <dt className=\"text-warm-500\">Cancel at period end</dt>\n              <dd className=\"font-medium text-warm-900\">{user.stripeCancelAtPeriodEnd ? \"Yes\" : \"No\"}</dd>\n            </div>\n          ) : null}\n        </dl>\n      </section>\n\n      <section className=\"rounded-lg border border-warm-200 bg-white p-4 shadow-warm opacity-0 animate-fade-in stagger-2\">\n        <h2 className=\"font-display text-sm font-semibold text-warm-900\">Billing</h2>\n        <p className=\"mt-1 text-sm text-warm-500\">Upgrade, downgrade, or manage your subscription.</p>\n\n        <div className=\"mt-4 flex flex-wrap items-center gap-3\">\n          {user.plan === \"free\" ? (\n            <>\n              <form action=\"/api/stripe/checkout\" method=\"post\">\n                <input type=\"hidden\" name=\"plan\" value=\"pro\" />\n                <button type=\"submit\" className=\"group flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white shadow-warm transition-all hover:bg-brand-600 hover:shadow-warm-md active:scale-[0.98]\">\n                  Upgrade to Pro\n                  <svg className=\"size-4 transition-transform group-hover:translate-x-0.5\" viewBox=\"0 0 16 16\" fill=\"none\">\n                    <path d=\"M3 8h10M9 4l4 4-4 4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  </svg>\n                </button>\n              </form>\n              <form action=\"/api/stripe/checkout\" method=\"post\">\n                <input type=\"hidden\" name=\"plan\" value=\"team\" />\n                <button type=\"submit\" className=\"group flex items-center gap-2 rounded-lg border border-warm-200 bg-white px-4 py-2 text-sm font-medium text-warm-900 shadow-warm transition-all hover:border-warm-300 hover:bg-warm-50 hover:shadow-warm-md active:scale-[0.98]\">\n                  Upgrade to Team\n                  <svg className=\"size-4 transition-transform group-hover:translate-x-0.5\" viewBox=\"0 0 16 16\" fill=\"none\">\n                    <path d=\"M3 8h10M9 4l4 4-4 4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  </svg>\n                </button>\n              </form>\n            </>\n          ) : (\n            <form action=\"/api/stripe/portal\" method=\"post\">\n              <button type=\"submit\" className=\"group flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white shadow-warm transition-all hover:bg-brand-600 hover:shadow-warm-md active:scale-[0.98]\">\n                Manage billing\n                <svg className=\"size-4 transition-transform group-hover:translate-x-0.5\" viewBox=\"0 0 16 16\" fill=\"none\">\n                  <path d=\"M3 8h10M9 4l4 4-4 4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n              </button>\n            </form>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(dashboard)/settings/stripe-reconcile-client.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/docs/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/docs/sdk/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/docs/setup/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/pricing/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/privacy/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/(marketing)/terms/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/auth/e2e-login/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/auth/github/callback/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/auth/github/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/auth/logout/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/github/callback/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/projects/[id]/analytics/live/route.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'GET' has a complexity of 12. Maximum allowed is 10.","line":41,"column":8,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":114,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { and, eq } from \"drizzle-orm\";\n\nimport { getUserFromRequest } from \"../../../../../../lib/auth/get-user\";\nimport { db } from \"../../../../../../lib/db/client\";\nimport { projects } from \"../../../../../../lib/db/schema\";\nimport { createTinybirdClientFromEnv, tinybirdSql } from \"../../../../../../lib/tinybird/client\";\n\ntype LiveFeedResponse = {\n  events: Array<{\n    id: string;\n    eventType: string;\n    path: string;\n    referrer: string | null;\n    timestamp: string;\n    relativeTime: string;\n  }>;\n  hasMore: boolean;\n};\n\nfunction clamp(n: number, min: number, max: number): number {\n  return Math.max(min, Math.min(max, n));\n}\n\nfunction escapeSqlString(value: string): string {\n  return value.replaceAll(\"'\", \"''\");\n}\n\nfunction toTinybirdDateTime64String(date: Date): string {\n  return date.toISOString().replace(\"T\", \" \").replace(\"Z\", \"\");\n}\n\nfunction normalizeTimestamp(value: unknown): string {\n  const raw = String(value ?? \"\");\n  if (!raw) return \"\";\n  if (raw.includes(\"T\")) return raw;\n\n  const iso = raw.replace(\" \", \"T\");\n  return iso.endsWith(\"Z\") ? iso : `${iso}Z`;\n}\n\nexport async function GET(\n  request: Request,\n  context: { params: Promise<{ id: string }> | { id: string } },\n): Promise<Response> {\n  const user = await getUserFromRequest(request);\n  if (!user) return Response.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const params = \"then\" in context.params ? await context.params : context.params;\n  const projectId = params.id;\n  if (!projectId) return Response.json({ error: \"Missing project id\" }, { status: 400 });\n\n  const ownedRows = await db\n    .select({ id: projects.id })\n    .from(projects)\n    .where(and(eq(projects.id, projectId), eq(projects.userId, user.id)));\n\n  if (!ownedRows[0]) return Response.json({ error: \"Project not found\" }, { status: 404 });\n\n  const url = new URL(request.url);\n  const limitRaw = url.searchParams.get(\"limit\");\n  const limit = clamp(Number.parseInt(limitRaw ?? \"20\", 10) || 20, 1, 100);\n  const sinceRaw = url.searchParams.get(\"since\") ?? \"\";\n  const sinceDate = sinceRaw ? new Date(sinceRaw) : null;\n  const since = sinceDate && !Number.isNaN(sinceDate.getTime()) ? toTinybirdDateTime64String(sinceDate) : \"\";\n  const sinceFilter = since || \"2024-01-01 00:00:00.000\";\n\n  const client = createTinybirdClientFromEnv();\n  const projectIdSql = escapeSqlString(projectId);\n  const sinceSql = escapeSqlString(sinceFilter);\n\n  const result = await tinybirdSql<{\n    event_type: string;\n    path: string;\n    referrer: string;\n    timestamp: string;\n    relative_time: string;\n  }>(\n    client,\n    `\n      SELECT\n        event_type,\n        ifNull(path, '') AS path,\n        ifNull(referrer, '') AS referrer,\n        toString(e.timestamp) AS timestamp,\n        formatReadableTimeDelta(now() - toDateTime(e.timestamp)) AS relative_time\n      FROM events AS e\n      WHERE e.project_id = '${projectIdSql}'\n      AND e.timestamp > toDateTime64('${sinceSql}', 3)\n      ORDER BY e.timestamp DESC\n      LIMIT ${limit}\n    `.trim(),\n  );\n\n  const data = result.data;\n  const events: LiveFeedResponse[\"events\"] = data.map((row, index) => {\n    const typed = row as Record<string, unknown>;\n    const timestamp = normalizeTimestamp(typed.timestamp);\n    const referrer = typeof typed.referrer === \"string\" && typed.referrer.length > 0 ? typed.referrer : null;\n\n    return {\n      id: `${timestamp}-${index}`,\n      eventType: String(typed.event_type ?? \"\"),\n      path: String(typed.path ?? \"\"),\n      referrer,\n      timestamp,\n      relativeTime: String(typed.relative_time ?? \"\"),\n    };\n  });\n\n  return Response.json(\n    { events, hasMore: events.length >= limit } satisfies LiveFeedResponse,\n    { status: 200 },\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/projects/[id]/analytics/overview/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/projects/[id]/analytics/sessions/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/projects/[id]/regenerate/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/projects/[id]/route.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'GET' has a complexity of 14. Maximum allowed is 10.","line":66,"column":8,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":131,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { and, eq } from \"drizzle-orm\";\n\nimport { getUserFromRequest } from \"../../../../lib/auth/get-user\";\nimport { db } from \"../../../../lib/db/client\";\nimport { projects, users } from \"../../../../lib/db/schema\";\nimport { createTinybirdClientFromEnv, tinybirdSql } from \"../../../../lib/tinybird/client\";\n\nfunction escapeSqlString(value: string): string {\n  return value.replaceAll(\"'\", \"''\");\n}\n\nfunction normalizeTimestamp(value: unknown): string | null {\n  const raw = String(value ?? \"\");\n  if (!raw) return null;\n  if (raw.includes(\"T\")) return raw.endsWith(\"Z\") ? raw : `${raw}Z`;\n\n  const iso = raw.replace(\" \", \"T\");\n  return iso.endsWith(\"Z\") ? iso : `${iso}Z`;\n}\n\nasync function fetchTinybirdLastEventAt(projectId: string): Promise<string | null> {\n  const client = createTinybirdClientFromEnv();\n  const projectIdSql = escapeSqlString(projectId);\n\n  const result = await tinybirdSql<{ last_event_at: string }>(\n    client,\n    `\n      SELECT\n        toString(max(timestamp)) AS last_event_at\n      FROM events\n      WHERE project_id = '${projectIdSql}'\n      GROUP BY project_id\n      LIMIT 1\n    `.trim(),\n  );\n\n  return normalizeTimestamp(result.data[0]?.last_event_at ?? null);\n}\n\nconst PLAN_LIMITS = {\n  free: 10_000,\n  pro: 100_000,\n  team: 1_000_000,\n} as const;\n\ntype ProjectDetailResponse = {\n  project: {\n    id: string;\n    githubRepoFullName: string;\n    status: string;\n    prNumber: number | null;\n    prUrl: string | null;\n    detectedFramework: string | null;\n    detectedAnalytics: string[];\n    eventsThisMonth: number;\n    lastEventAt: string | null;\n    createdAt: string;\n    updatedAt: string;\n  };\n  quotaLimit: number;\n  quotaUsed: number;\n  isOverQuota: boolean;\n  userPlan: string;\n};\n\nexport async function GET(\n  request: Request,\n  context: { params: Promise<{ id: string }> | { id: string } },\n): Promise<Response> {\n  const user = await getUserFromRequest(request);\n  if (!user) return Response.json({ error: \"Unauthorized\" }, { status: 401 });\n\n  const params = \"then\" in context.params ? await context.params : context.params;\n  const projectId = params.id;\n  if (!projectId) return Response.json({ error: \"Missing project id\" }, { status: 400 });\n\n  const projectRows = await db\n    .select({\n      id: projects.id,\n      githubRepoFullName: projects.githubRepoFullName,\n      status: projects.status,\n      prNumber: projects.prNumber,\n      prUrl: projects.prUrl,\n      detectedFramework: projects.detectedFramework,\n      detectedAnalytics: projects.detectedAnalytics,\n      eventsThisMonth: projects.eventsThisMonth,\n      lastEventAt: projects.lastEventAt,\n      createdAt: projects.createdAt,\n      updatedAt: projects.updatedAt,\n    })\n    .from(projects)\n    .where(and(eq(projects.id, projectId), eq(projects.userId, user.id)));\n\n  const project = projectRows[0];\n  if (!project) return Response.json({ error: \"Project not found\" }, { status: 404 });\n\n  const userRows = await db.select({ plan: users.plan }).from(users).where(eq(users.id, user.id));\n  const plan = userRows[0]?.plan ?? \"free\";\n  const quotaLimit = PLAN_LIMITS[plan as keyof typeof PLAN_LIMITS] ?? PLAN_LIMITS.free;\n  const quotaUsed = Number(project.eventsThisMonth);\n  const isOverQuota = quotaUsed >= quotaLimit;\n\n  let lastEventAt: string | null = null;\n  try {\n    lastEventAt = await fetchTinybirdLastEventAt(project.id);\n  } catch {\n    lastEventAt = null;\n  }\n\n  const responseBody: ProjectDetailResponse = {\n    project: {\n      id: project.id,\n      githubRepoFullName: project.githubRepoFullName,\n      status: project.status,\n      prNumber: project.prNumber ?? null,\n      prUrl: project.prUrl ?? null,\n      detectedFramework: project.detectedFramework ?? null,\n      detectedAnalytics: project.detectedAnalytics ?? [],\n      eventsThisMonth: quotaUsed,\n      lastEventAt: lastEventAt ?? (project.lastEventAt ? project.lastEventAt.toISOString() : null),\n      createdAt: project.createdAt.toISOString(),\n      updatedAt: project.updatedAt.toISOString(),\n    },\n    quotaLimit,\n    quotaUsed,\n    isOverQuota,\n    userPlan: String(plan),\n  };\n\n  return Response.json(responseBody);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/projects/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/stripe/checkout/route.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'POST' has a complexity of 12. Maximum allowed is 10.","line":31,"column":8,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":117,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { eq } from \"drizzle-orm\";\nimport { NextResponse } from \"next/server\";\n\nimport { validateSession } from \"../../../../lib/auth/session\";\nimport { getAppUrl } from \"../../../../lib/app-url\";\nimport { db } from \"../../../../lib/db/client\";\nimport { users } from \"../../../../lib/db/schema\";\nimport { getPriceIdForPlan } from \"../../../../lib/stripe/constants\";\nimport { getStripe } from \"../../../../lib/stripe/client\";\nimport { isPaidPlan, type PaidPlan } from \"../../../../lib/stripe/plans\";\n\nconst ACTIVE_SUBSCRIPTION_STATUSES = new Set([\"active\", \"trialing\", \"past_due\", \"unpaid\"]);\n\nfunction normalizeBaseUrl(url: string): string {\n  return url.endsWith(\"/\") ? url.slice(0, -1) : url;\n}\n\nasync function createBillingPortalUrl(stripeCustomerId: string): Promise<string | null> {\n  const stripe = getStripe();\n  const appUrl = normalizeBaseUrl(getAppUrl());\n\n  const portalSession = await stripe.billingPortal.sessions.create({\n    customer: stripeCustomerId,\n    return_url: `${appUrl}/settings`,\n    configuration: process.env.STRIPE_BILLING_PORTAL_CONFIG_ID || undefined,\n  });\n\n  return typeof portalSession.url === \"string\" && portalSession.url.length > 0 ? portalSession.url : null;\n}\n\nexport async function POST(request: Request): Promise<Response> {\n  const session = await validateSession(request);\n  if (!session) {\n    return Response.json({ error: \"Unauthorized\" }, { status: 401 });\n  }\n\n  let formData: FormData;\n  try {\n    formData = await request.formData();\n  } catch {\n    return Response.json({ error: \"Invalid request\" }, { status: 400 });\n  }\n\n  const planRaw = formData.get(\"plan\");\n  if (!isPaidPlan(planRaw)) {\n    return Response.json({ error: \"Invalid plan\" }, { status: 400 });\n  }\n  const plan: PaidPlan = planRaw;\n\n  const rows = await db\n    .select({ id: users.id, email: users.email, plan: users.plan, stripeCustomerId: users.stripeCustomerId })\n    .from(users)\n    .where(eq(users.id, session.userId));\n\n  const user = rows[0];\n  if (!user) {\n    return Response.json({ error: \"User not found\" }, { status: 404 });\n  }\n\n  const stripe = getStripe();\n\n  let stripeCustomerId = user.stripeCustomerId ?? null;\n  if (!stripeCustomerId) {\n    try {\n      const customer = await stripe.customers.create({ email: user.email, metadata: { userId: user.id } });\n      stripeCustomerId = customer.id;\n\n      await db.update(users).set({ stripeCustomerId }).where(eq(users.id, user.id));\n    } catch (error) {\n      console.error(\"stripe.checkout.customer_create_failed\", { userId: user.id, error });\n      return Response.json({ error: \"Failed to start checkout\" }, { status: 500 });\n    }\n  }\n\n  try {\n    const subscriptions = await stripe.subscriptions.list({ customer: stripeCustomerId, status: \"all\", limit: 10 });\n    const hasActiveSubscription = subscriptions.data.some((subscription) =>\n      ACTIVE_SUBSCRIPTION_STATUSES.has(subscription.status),\n    );\n\n    if (hasActiveSubscription) {\n      const manageUrl = await createBillingPortalUrl(stripeCustomerId);\n      return Response.json({ error: \"Subscription already exists\", manageUrl }, { status: 409 });\n    }\n  } catch (error) {\n    console.error(\"stripe.checkout.subscription_check_failed\", { userId: user.id, stripeCustomerId, error });\n    return Response.json({ error: \"Failed to start checkout\" }, { status: 500 });\n  }\n\n  const appUrl = normalizeBaseUrl(getAppUrl());\n\n  try {\n    const checkoutSession = await stripe.checkout.sessions.create({\n      mode: \"subscription\",\n      customer: stripeCustomerId,\n      line_items: [{ price: getPriceIdForPlan(plan), quantity: 1 }],\n      subscription_data: {\n        metadata: {\n          userId: user.id,\n          plan,\n        },\n      },\n      success_url: `${appUrl}/settings?success=true&checkout_session_id={CHECKOUT_SESSION_ID}`,\n      cancel_url: `${appUrl}/settings`,\n    });\n\n    if (!checkoutSession.url) {\n      console.error(\"stripe.checkout.session_missing_url\", { userId: user.id, stripeCustomerId, sessionId: checkoutSession.id });\n      return Response.json({ error: \"Failed to start checkout\" }, { status: 500 });\n    }\n\n    return NextResponse.redirect(checkoutSession.url, { status: 303 });\n  } catch (error) {\n    console.error(\"stripe.checkout.session_create_failed\", { userId: user.id, stripeCustomerId, error });\n    return Response.json({ error: \"Failed to start checkout\" }, { status: 500 });\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/stripe/portal/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/stripe/reconcile/route.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'POST' has a complexity of 24. Maximum allowed is 10.","line":43,"column":8,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":127,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { eq } from \"drizzle-orm\";\n\nimport { validateSession } from \"../../../../lib/auth/session\";\nimport { db } from \"../../../../lib/db/client\";\nimport { users } from \"../../../../lib/db/schema\";\nimport { getPlanForPriceId } from \"../../../../lib/stripe/constants\";\nimport { getStripe } from \"../../../../lib/stripe/client\";\n\ntype ReconcileBody = {\n  checkout_session_id?: unknown;\n};\n\nfunction getExpandedId(value: unknown): string | null {\n  if (typeof value === \"string\" && value.length > 0) return value;\n  if (value && typeof value === \"object\" && \"id\" in value && typeof (value as { id?: unknown }).id === \"string\") {\n    const id = (value as { id: string }).id;\n    return id.length > 0 ? id : null;\n  }\n  return null;\n}\n\nfunction getUnixSecondsDate(value: unknown): Date | null {\n  let seconds: number | null = null;\n\n  if (typeof value === \"number\" && Number.isFinite(value)) {\n    seconds = Math.floor(value);\n  } else if (typeof value === \"string\" && value.trim().length > 0) {\n    const parsed = Number(value);\n    if (Number.isFinite(parsed)) {\n      seconds = Math.floor(parsed);\n    }\n  } else if (typeof value === \"bigint\") {\n    const parsed = Number(value);\n    if (Number.isSafeInteger(parsed)) {\n      seconds = parsed;\n    }\n  }\n\n  if (seconds === null) return null;\n  return new Date(seconds * 1000);\n}\n\nexport async function POST(request: Request): Promise<Response> {\n  const session = await validateSession(request);\n  if (!session) {\n    return Response.json({ error: \"Unauthorized\" }, { status: 401 });\n  }\n\n  let json: unknown;\n  try {\n    json = await request.json();\n  } catch {\n    return Response.json({ error: \"Invalid JSON body\" }, { status: 400 });\n  }\n\n  const body = json as ReconcileBody;\n  const checkoutSessionId = typeof body.checkout_session_id === \"string\" ? body.checkout_session_id : null;\n  if (!checkoutSessionId) {\n    return Response.json({ error: \"Missing checkout_session_id\" }, { status: 400 });\n  }\n\n  const userRows = await db\n    .select({ id: users.id, plan: users.plan, stripeCustomerId: users.stripeCustomerId })\n    .from(users)\n    .where(eq(users.id, session.userId));\n  const user = userRows[0];\n  if (!user) {\n    return Response.json({ error: \"User not found\" }, { status: 404 });\n  }\n\n  const stripe = getStripe();\n\n  let checkoutSession: any;\n  try {\n    checkoutSession = await stripe.checkout.sessions.retrieve(checkoutSessionId, {\n      expand: [\"subscription\", \"customer\"],\n    });\n  } catch (error) {\n    console.error(\"stripe.reconcile.checkout_session_retrieve_failed\", { checkoutSessionId, error });\n    return Response.json({ error: \"Invalid checkout_session_id\" }, { status: 400 });\n  }\n\n  const customerId = getExpandedId(checkoutSession?.customer);\n  const subscription = checkoutSession?.subscription;\n  const subscriptionId = getExpandedId(subscription);\n\n  const belongsToCustomer = !!(customerId && user.stripeCustomerId && customerId === user.stripeCustomerId);\n  const belongsToUserMetadata = subscription?.metadata?.userId === user.id;\n  if (!belongsToCustomer && !belongsToUserMetadata) {\n    return Response.json({ error: \"Forbidden\" }, { status: 403 });\n  }\n\n  if (!subscriptionId || !subscription || typeof subscription !== \"object\") {\n    return Response.json({ error: \"Checkout session missing subscription\" }, { status: 400 });\n  }\n\n  const priceId = subscription?.items?.data?.[0]?.price?.id;\n  const mappedPlan = typeof priceId === \"string\" ? getPlanForPriceId(priceId) : null;\n\n  const newPlan = mappedPlan ?? user.plan;\n\n  const cancelAtDate = getUnixSecondsDate(subscription.cancel_at);\n  const currentPeriodEndDate = getUnixSecondsDate(subscription.current_period_end) ?? cancelAtDate;\n  const hasScheduledCancellation = !!cancelAtDate && (subscription.canceled_at === null || subscription.canceled_at === undefined);\n  const cancelAtPeriodEnd =\n    hasScheduledCancellation || typeof subscription.cancel_at_period_end !== \"boolean\" ? hasScheduledCancellation : subscription.cancel_at_period_end;\n\n  const updatedRows = await db\n    .update(users)\n    .set({\n      plan: newPlan,\n      stripeSubscriptionId: subscriptionId,\n      stripeSubscriptionStatus: typeof subscription.status === \"string\" ? subscription.status : null,\n      stripePriceId: typeof priceId === \"string\" ? priceId : null,\n      stripeCurrentPeriodEnd: currentPeriodEndDate,\n      stripeCancelAtPeriodEnd: cancelAtPeriodEnd,\n    })\n    .where(eq(users.id, user.id))\n    .returning();\n\n  const updated = updatedRows[0];\n  if (!updated) {\n    return Response.json({ error: \"Failed to update subscription\" }, { status: 500 });\n  }\n\n  return Response.json({ plan: updated.plan, stripeSubscriptionId: updated.stripeSubscriptionId });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/webhooks/github/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/api/webhooks/stripe/route.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'POST' has a complexity of 32. Maximum allowed is 10.","line":70,"column":8,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":215,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { eq } from \"drizzle-orm\";\n\nimport { db } from \"../../../../lib/db/client\";\nimport { users } from \"../../../../lib/db/schema\";\nimport { readRequiredEnv } from \"../../../../lib/env/read-required-env\";\nimport { getPlanForPriceId } from \"../../../../lib/stripe/constants\";\nimport { getStripe } from \"../../../../lib/stripe/client\";\n\ntype UserForStripeWebhook = {\n  id: string;\n  plan: string;\n  stripeCustomerId: string | null;\n  stripeLastWebhookEventId: string | null;\n  stripeLastWebhookEventCreated: bigint | null;\n};\n\nfunction toUnixSecondsBigint(value: unknown): bigint | null {\n  if (typeof value === \"number\" && Number.isFinite(value)) return BigInt(Math.floor(value));\n  if (typeof value === \"string\" && value.trim().length > 0) {\n    const parsed = Number(value);\n    return Number.isFinite(parsed) ? BigInt(Math.floor(parsed)) : null;\n  }\n  if (typeof value === \"bigint\") return value;\n  return null;\n}\n\nfunction toUnixSecondsDate(value: unknown): Date | null {\n  if (typeof value === \"number\" && Number.isFinite(value)) return new Date(Math.floor(value) * 1000);\n  if (typeof value === \"string\" && value.trim().length > 0) {\n    const parsed = Number(value);\n    return Number.isFinite(parsed) ? new Date(Math.floor(parsed) * 1000) : null;\n  }\n  if (typeof value === \"bigint\") {\n    const parsed = Number(value);\n    return Number.isSafeInteger(parsed) ? new Date(parsed * 1000) : null;\n  }\n  return null;\n}\n\nfunction getExpandedId(value: unknown): string | null {\n  if (typeof value === \"string\" && value.length > 0) return value;\n  if (value && typeof value === \"object\" && \"id\" in value && typeof (value as { id?: unknown }).id === \"string\") {\n    const id = (value as { id: string }).id;\n    return id.length > 0 ? id : null;\n  }\n  return null;\n}\n\nfunction shouldIgnoreEvent(user: UserForStripeWebhook, eventId: string, eventCreated: bigint | null): boolean {\n  if (user.stripeLastWebhookEventId && user.stripeLastWebhookEventId === eventId) return true;\n  if (eventCreated && user.stripeLastWebhookEventCreated && eventCreated < user.stripeLastWebhookEventCreated) return true;\n  return false;\n}\n\nasync function findUserByStripeCustomerId(customerId: string): Promise<UserForStripeWebhook | null> {\n  const rows = await db\n    .select({\n      id: users.id,\n      plan: users.plan,\n      stripeCustomerId: users.stripeCustomerId,\n      stripeLastWebhookEventId: users.stripeLastWebhookEventId,\n      stripeLastWebhookEventCreated: users.stripeLastWebhookEventCreated,\n    })\n    .from(users)\n    .where(eq(users.stripeCustomerId, customerId));\n\n  return rows[0] ?? null;\n}\n\nexport async function POST(request: Request): Promise<Response> {\n  const signatureHeader = request.headers.get(\"stripe-signature\");\n  if (!signatureHeader) {\n    return new Response(\"Missing Stripe signature\", { status: 400 });\n  }\n\n  const secret = readRequiredEnv(\"STRIPE_WEBHOOK_SECRET\");\n  const body = await request.text();\n\n  const stripe = getStripe();\n\n  let event: any;\n  try {\n    event = stripe.webhooks.constructEvent(body, signatureHeader, secret);\n  } catch (error) {\n    console.error(\"stripe.webhook.signature_verification_failed\", { error });\n    return new Response(\"Invalid Stripe signature\", { status: 400 });\n  }\n\n  const eventId = typeof event?.id === \"string\" ? event.id : \"unknown\";\n  const eventType = typeof event?.type === \"string\" ? event.type : \"unknown\";\n  const eventCreated = toUnixSecondsBigint(event?.created);\n\n  const object = event?.data?.object;\n\n  const customerId =\n    typeof object?.customer === \"string\"\n      ? object.customer\n      : typeof object?.customer?.id === \"string\"\n        ? object.customer.id\n        : null;\n\n  const subscriptionId =\n    typeof object?.subscription === \"string\"\n      ? object.subscription\n      : typeof object?.id === \"string\" && (object?.object === \"subscription\" || eventType.startsWith(\"customer.subscription.\"))\n        ? object.id\n        : null;\n\n  const priceId = object?.items?.data?.[0]?.price?.id;\n\n  if (!customerId) {\n    console.error(\"stripe.webhook.missing_customer\", { eventId, eventType, subscriptionId, priceId });\n    return Response.json({ ok: true }, { status: 200 });\n  }\n\n  const user = await findUserByStripeCustomerId(customerId);\n  if (!user) {\n    console.error(\"stripe.webhook.user_not_found\", { eventId, eventType, customerId, subscriptionId, priceId });\n    return Response.json({ ok: true }, { status: 200 });\n  }\n\n  if (shouldIgnoreEvent(user, eventId, eventCreated)) {\n    return Response.json({ ok: true, ignored: true }, { status: 200 });\n  }\n\n  try {\n    switch (eventType) {\n      case \"checkout.session.completed\": {\n        const checkoutSubscriptionId = getExpandedId(object?.subscription);\n        if (!checkoutSubscriptionId) {\n          console.info(\"stripe.webhook.checkout_session_completed.no_subscription\", { eventId, customerId });\n          break;\n        }\n\n        await db\n          .update(users)\n          .set({\n            stripeSubscriptionId: checkoutSubscriptionId,\n            stripeLastWebhookEventId: eventId,\n            stripeLastWebhookEventCreated: eventCreated,\n          })\n          .where(eq(users.id, user.id));\n\n        break;\n      }\n\n      case \"customer.subscription.updated\": {\n        const mappedPlan = typeof priceId === \"string\" ? getPlanForPriceId(priceId) : null;\n        if (!mappedPlan && typeof priceId === \"string\") {\n          console.error(\"stripe.webhook.unknown_price_id\", { eventId, eventType, customerId, subscriptionId, priceId, userId: user.id });\n        }\n\n        const cancelAtDate = toUnixSecondsDate(object?.cancel_at);\n        const currentPeriodEndDate = toUnixSecondsDate(object?.current_period_end) ?? cancelAtDate;\n        const hasScheduledCancellation = !!cancelAtDate && (object?.canceled_at === null || object?.canceled_at === undefined);\n        const cancelAtPeriodEnd =\n          hasScheduledCancellation || typeof object?.cancel_at_period_end !== \"boolean\" ? hasScheduledCancellation : object.cancel_at_period_end;\n\n        const setValues: Record<string, unknown> = {\n          stripeSubscriptionId: subscriptionId,\n          stripeSubscriptionStatus: typeof object?.status === \"string\" ? object.status : null,\n          stripePriceId: typeof priceId === \"string\" ? priceId : null,\n          stripeCurrentPeriodEnd: currentPeriodEndDate,\n          stripeCancelAtPeriodEnd: cancelAtPeriodEnd,\n          stripeLastWebhookEventId: eventId,\n          stripeLastWebhookEventCreated: eventCreated,\n        };\n\n        if (mappedPlan) {\n          setValues.plan = mappedPlan;\n        }\n\n        await db.update(users).set(setValues).where(eq(users.id, user.id));\n        break;\n      }\n\n      case \"customer.subscription.deleted\": {\n        const status = typeof object?.status === \"string\" ? object.status : null;\n        await db\n          .update(users)\n          .set({\n            plan: \"free\",\n            stripeSubscriptionStatus: status,\n            stripeLastWebhookEventId: eventId,\n            stripeLastWebhookEventCreated: eventCreated,\n          })\n          .where(eq(users.id, user.id));\n        break;\n      }\n\n      case \"invoice.payment_failed\": {\n        await db\n          .update(users)\n          .set({\n            stripeSubscriptionId: subscriptionId,\n            stripeSubscriptionStatus: \"past_due\",\n            stripeLastWebhookEventId: eventId,\n            stripeLastWebhookEventCreated: eventCreated,\n          })\n          .where(eq(users.id, user.id));\n        break;\n      }\n\n      default: {\n        console.info(\"stripe.webhook.unhandled_event\", { eventId, eventType, customerId, subscriptionId, priceId });\n        break;\n      }\n    }\n  } catch (error) {\n    console.error(\"stripe.webhook.processing_failed\", { eventId, eventType, customerId, subscriptionId, priceId, error });\n    return new Response(\"Webhook handler error\", { status: 500 });\n  }\n\n  return Response.json({ ok: true }, { status: 200 });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/dashboard/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/app/login/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/live-event.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/mobile-tab-bar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/onboarding-checklist.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/page-views-chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/project-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/quota-display.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/sessions-chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/stat-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/status-badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/top-list.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/dashboard/user-dropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/how-it-works.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/pricing-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/set-and-forget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/components/marketing/what-you-get.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/drizzle.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/e2e/auth.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/e2e/dashboard.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/app-url.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/auth/cookies.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/auth/get-user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/auth/github-oauth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/auth/session.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/drizzle-env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/queries/github-tokens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/queries/projects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/queries/regenerate-requests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/queries/users.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/db/schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/env/read-required-env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/analyze.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/app.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/detect-framework.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/generate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/handlers/installation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/handlers/pull-request.ts","messages":[{"ruleId":"complexity","severity":2,"message":"Async function 'handlePullRequestWebhook' has a complexity of 11. Maximum allowed is 10.","line":7,"column":8,"nodeType":"FunctionDeclaration","messageId":"complex","endLine":26,"endColumn":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { updateProjectStatusForPullRequestClosed } from \"../../db/queries/projects\";\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null;\n}\n\nexport async function handlePullRequestWebhook(payload: unknown): Promise<void> {\n  if (!isRecord(payload)) return;\n  const action = payload.action;\n  if (action !== \"closed\") return;\n\n  const pullRequest = payload.pull_request;\n  const repository = payload.repository;\n  if (!isRecord(pullRequest) || !isRecord(repository)) return;\n\n  const prNumber = pullRequest.number;\n  const merged = pullRequest.merged;\n  const repoId = repository.id;\n\n  if (typeof prNumber !== \"number\" || !Number.isInteger(prNumber)) return;\n  if (typeof merged !== \"boolean\") return;\n  if (typeof repoId !== \"number\" || !Number.isFinite(repoId)) return;\n\n  const status = merged ? \"active\" : \"pr_closed\";\n  await updateProjectStatusForPullRequestClosed({ repoId: BigInt(repoId), prNumber, status });\n}\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/handlers/push.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/pr-generator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/templates/app-router.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/templates/insert-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/templates/pages-router.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/templates/paths.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/github/webhook-verify.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/hooks/use-live-feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/hooks/use-project.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/hooks/use-projects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/stripe/client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/stripe/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/stripe/plans.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/lib/tinybird/client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/next.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/scripts/link-github-users.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/analytics-live-feed-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/analytics-overview-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/analytics-sessions-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/app-url.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/dashboard-data-fetching.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/dashboard-header.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/dashboard-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/dashboard-shell.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/design-system-tailwind.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/detect-framework.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/drizzle-env.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/e2e-login.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/env.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-app-scaffold.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-project-cache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-tinybird-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-track-route-cors.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-track-route-project-validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-track-route-v2-schema.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/events-track-route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/get-user.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-analyze.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-app.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-callback-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-generate-events-url.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-generate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-insertion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-oauth-callback.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-oauth-redirect.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-oauth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-templates.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-tokens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-webhook-installation-handler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-webhook-pull-request-handler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-webhook-push-handler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/github-webhooks-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/link-github-users-script.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/live-event.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/live-feed-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/login-page-oauth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/logout-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/logout-no-cookie.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/marketing-copy.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/marketing-docs-pages.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/marketing-footer-links.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/marketing-landing-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/marketing-legal-pages.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/marketing-pricing-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/middleware.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/migrations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/overview-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/pr-generator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/project-detail-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/project-detail-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/project-layout.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/project-polling.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/projects-list-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/projects-list-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/projects-queries.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/quota-display.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/regenerate-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/regenerate-requests-queries.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/root-layout-metadata.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/schema.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/session.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/sessions-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/settings-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-checkout-additional.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-checkout-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-env-example.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-migration.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-plans.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-portal-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-reconcile-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-webhook-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/stripe-webhook-handlers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-daily-aggregates.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-events-datasource.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-live-feed.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-page-views-timeseries.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-sql-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-top-pages.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/tinybird-top-referrers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/user-dropdown.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/tests/users-queries.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/types/database.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/types/github.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/apps/web/vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/cta.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/engagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/react/app-router.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/react/pages-router.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/scroll.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/session.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/utm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/src/visitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/app-router.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/cta.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/engagement.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/package-init.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/pages-router.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/public-api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/publish-config.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/readme.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/scroll.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/session.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/tracker-v2-integration.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/tracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/utm.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/test/visitor.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/coding/.codex/worktrees/bfc7/fast_pr_analytics/packages/sdk/tsup.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]